module STD_SP_BRAM(
    clock,
    write_enable,
    data_in,
    address_in,
    data_out
);
parameter MEMORY_INIT_file="";
parameter n_elements = 1024;
parameter READ_ONLY_MEMORY = 0;
parameter ADDRESS_SIZE = 32;
parameter BITSIZE_data_out = 32;

input                                  clock;
input                                  write_enable;
input    [BITSIZE_data_out - 1 : 0]    data_in;
input    [ADDRESS_SIZE - 1 : 0]        address_in;
output   [BITSIZE_data_out - 1 : 0]    data_out;
reg      [BITSIZE_data_out-1:0]        data_out_r;
reg      [BITSIZE_data_out-1:0]        memory [0:n_elements-1] /* synthesis syn_ramstyle =  "no_rw_check" */;
initial
begin
  $readmemb(MEMORY_INIT_file, memory, 0, n_elements-1);
end
always @(posedge clock)
begin
  if(READ_ONLY_MEMORY==0)
  begin
    if (write_enable)
      memory[address_in] <= data_in;
  end
  data_out_r <= memory[address_in];
end
assign data_out = data_out_r;

endmodule
